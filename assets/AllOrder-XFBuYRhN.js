import{D}from"./Default-LfTR1VjV.js";import{_ as I}from"./Icon-aDk_KqCg.js";import{r as d,o as f,b,w as y,a as g,d as t,j as P,c as w,l as T,F as C,t as l,p as L,k as N}from"./index-3VIsnPTN.js";import{u as B}from"./projects-bfIeDXOj.js";import{u as M}from"./quotations-DKV3vdtf.js";import{u as $}from"./purchase-orders-Dw_HkDBj.js";import{u as F}from"./profits-CfWhkcUx.js";import{u as Q}from"./sales-orders-tqon6XcB.js";import{u as V}from"./progress-McAvhHuN.js";import{I as j}from"./InputField-7BnCext7.js";import{M as R}from"./MenuCard-iMsFtknn.js";import{B as A}from"./ButtonLink-9IpDKwVO.js";import{B as J}from"./Button-fTGUJeva.js";import{L as z}from"./Loading-sJ64mZn0.js";import{s as G}from"./default.css_vue_type_style_index_0_src_true_lang-7xlbMjmG.js";import{D as q}from"./DataTable-aefNwkh5.js";import{M as E}from"./Modal-eH2qysXC.js";import{T as H}from"./TextArea-Y7UasRCk.js";import{T as Y}from"./TextCurrency-KJDE1gIN.js";import{S as K}from"./Stepper-DyQ-U5va.js";import{_ as U}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./Pagination-pdYa9xhx.js";const O=V();B();M();const S=$();F();Q();const W={components:{TextCurrency:Y,Default:D,Icon:I,MenuCard:R,ButtonLink:A,Button:J,Loading:z,InputField:j,DataTable:q,Modal:E,Multiselect:G,TextArea:H,Stepper:K},data(){return{label_head:[],aprove:!1,stepper_menu:[{label:"QT",complete:!1,link:"/quotation/detail/"},{label:"PL",complete:!1,link:"/profit-and-loss/detail/"},{label:"SO",complete:!1,link:"/sales-order/detail/"},{label:"PO",complete:!1,link:"/purchase-order/"},{label:"RG",complete:!1,link:"/receive-list/"},{label:"DO",complete:!1,link:"/delivery-order/"},{label:"IV",complete:!1,link:"/invoice/so/"}],file1:null,file2:null,dataOrder:[],loading:!1}},methods:{async updateStepper(){var r;let e=JSON.parse(localStorage.getItem("progress"));await O.getData(e[0].idQT);let s=await O.data_progress;s&&(r=s[1])!=null&&r.status&&(this.isPLexist=!0),await localStorage.setItem("progress",JSON.stringify(s))},async setStepper(){var s,r,c,a,i,n,p,m,u,_,o,h,x,k;let e=await JSON.parse(localStorage.getItem("progress"));e&&(this.stepper_menu[0].complete=(s=e[0])==null?void 0:s.status,this.stepper_menu[0].link=this.stepper_menu[0].link+((r=e[0])==null?void 0:r.idQT),this.stepper_menu[1].complete=(c=e[1])==null?void 0:c.status,this.stepper_menu[1].link=this.stepper_menu[1].link+((a=e[1])==null?void 0:a.idQT),this.stepper_menu[2].complete=(i=e[2])==null?void 0:i.status,this.stepper_menu[2].link=this.stepper_menu[2].link+((n=e[2])==null?void 0:n.idPL),this.stepper_menu[3].complete=(p=e[3])==null?void 0:p.status,this.stepper_menu[3].link=this.stepper_menu[3].link+((m=e[3])==null?void 0:m.idQT),this.stepper_menu[4].complete=(u=e[4])==null?void 0:u.status,this.stepper_menu[4].link=this.stepper_menu[4].link+((_=e[4])==null?void 0:_.idQT),this.stepper_menu[5].complete=(o=e[5])==null?void 0:o.status,this.stepper_menu[5].link=this.stepper_menu[5].link+((h=e[5])==null?void 0:h.idSO),this.stepper_menu[6].complete=(x=e[6])==null?void 0:x.status,this.stepper_menu[6].link=this.stepper_menu[6].link+((k=e[6])==null?void 0:k.idSO))},toDetail(e,s){this.$router.push("/purchase-order/detail/"+S.data_po[e].po_id)},formatDateTime(e){const s=new Date(e),r=s.getDate().toString().padStart(2,"0"),c=(s.getMonth()+1).toString().padStart(2,"0"),a=s.getFullYear().toString().slice(-2),i=s.getHours().toString().padStart(2,"0"),n=s.getMinutes().toString().padStart(2,"0"),p=s.getSeconds().toString().padStart(2,"0");return`${r}/${c}/${a} ${i}:${n}:${p}`},formatCurrency(e){return e?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e):"Rp.0"},handleFileChange1(e){this.file1=e.target.files[0]},handleFileChange2(e){this.file2=e.target.files[0]},async CheckStepper(){this.aprove=!0}},async created(){this.loading=!0,await this.CheckStepper(),await this.updateStepper(),await this.setStepper(),await S.getData(this.$route.params.id),this.dataOrder=await S.data_po,this.loading=!1,console.log(this.dataOrder)}},v=e=>(L("data-v-516a444b"),e=e(),N(),e),X={class:"flex gap-5"},Z={class:"px-20 py-10 w-full flex justify-center items-center"},ee={class:"w-full px-10 py-10 bg-white"},te=v(()=>t("div",{class:"w-full bg-gray-50 text-gray-700 px-5 py-3 font-semibold"}," All Purchase Order Items ",-1)),se={class:"w-full"},oe={class:"relative overflow-x-auto"},ae={class:"w-full text-sm text-left rtl:text-right text-gray-500 mt-2"},re=v(()=>t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"}," PO Number "),t("th",{scope:"col",class:"px-6 py-3"}," Project "),t("th",{scope:"col",class:"px-6 py-3"}," Customer PO Number "),t("th",{scope:"col",class:"px-6 py-3"}," Vendor "),t("th",{scope:"col",class:"px-6 py-3"}," SO Number "),t("th",{scope:"col",class:"px-6 py-3"}," PPN "),t("th",{scope:"col",class:"px-6 py-3"}," Total "),t("th",{scope:"col",class:"px-6 py-3"}," # ")])],-1)),pe={class:"px-6 py-4"},le={class:"px-6 py-4"},ie={class:"px-6 py-4"},ne={class:"px-6 py-4"},ce={class:"px-6 py-4"},de={class:"px-6 py-4"},me={class:"px-6 py-4"},ue={class:"px-6 py-4"};function _e(e,s,r,c,a,i){const n=d("Loading"),p=d("ButtonLink"),m=d("MenuCard"),u=d("Stepper"),_=d("Default");return a.loading?(f(),b(n,{key:0})):(f(),b(_,{key:1},{default:y(()=>[g(m,{menuLabel:"Receive Goods"},{default:y(()=>[t("div",X,[g(p,{type:"secondary",size:"small",to:"/delivery-order/"+a.dataOrder[0].so_id},{default:y(()=>[P(" Next")]),_:1},8,["to"])])]),_:1}),t("div",Z,[g(u,{menu:a.stepper_menu},null,8,["menu"])]),t("div",ee,[te,t("div",se,[t("div",oe,[t("table",ae,[re,t("tbody",null,[(f(!0),w(C,null,T(a.dataOrder,(o,h)=>(f(),w("tr",{class:"bg-white border-b text-xs",key:h},[t("td",pe,l(o.po_number),1),t("td",le,l(o.project_name),1),t("td",ie,l(o.customer_po_number),1),t("td",ne,l(o.vendor_name),1),t("td",ce,l(o.so_number),1),t("td",de,l(o.ppn+" %"),1),t("td",me,l(i.formatCurrency(o.total)),1),t("td",ue,[g(p,{type:"primary",to:"/receive-goods/"+o.po_id,class:"w-fit h-fit",icon_position:"left",size:"small",icon_name:"PackageSearch"},null,8,["to"])])]))),128))])])])])])]),_:1}))}const Qe=U(W,[["render",_e],["__scopeId","data-v-516a444b"]]);export{Qe as default};
