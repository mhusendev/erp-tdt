import{D as v}from"./Default-AVgVSg84.js";import{_ as S}from"./Icon-kP6R3z7U.js";import{r as d,o as p,b as f,w as y,a as b,d as t,t as o,j as i,c as g,l as w,F as k,p as C,k as D}from"./index-HpA5oPRI.js";import{u as I}from"./projects-YseaALHQ.js";import{u as T}from"./quotations-cGjzBMwx.js";import{u as B}from"./purchase-orders-x-T8bSdN.js";import{u as L}from"./profits-UjLPd1bA.js";import{u as N}from"./sales-orders-pkRXllga.js";import{I as j}from"./InputField-fxyg1Ut9.js";import{M}from"./MenuCard-qty5iZ9_.js";import{B as F}from"./ButtonLink-JhhLJAK9.js";import{B as V}from"./Button-M_HFa4Rq.js";import{L as A}from"./Loading-OmTAJ6kg.js";import{s as R}from"./default.css_vue_type_style_index_0_src_true_lang-6PSejHYA.js";import{D as q}from"./DataTable-wprUM1Wh.js";import{M as Q}from"./Modal-eYmnpBdS.js";import{T as E}from"./TextArea-zOuL5npB.js";import{T as Y}from"./TextCurrency-tutn7-Ju.js";import{S as z}from"./Stepper-pwZWLFXm.js";import{_ as G}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./Pagination-Rl8xDIw_.js";I();T();const h=B(),H=L();N();const U={components:{TextCurrency:Y,Default:v,Icon:S,MenuCard:M,ButtonLink:F,Button:V,Loading:A,InputField:j,DataTable:q,Modal:Q,Multiselect:R,TextArea:E,Stepper:z},data(){return{body:[],label_head:[],aprove:!1,stepper_menu:[{label:"QT",complete:!0,link:""},{label:"PL",complete:!0,link:""},{label:"SO",complete:!1,link:""},{label:"PO",complete:!1,link:""},{label:"RG",complete:!1,link:""},{label:"DO",complete:!1,link:""},{label:"INV",complete:!1,link:""}],file1:null,file2:null,dataPO:{},loading:!1}},methods:{formatDateTime(s){const a=new Date(s),l=a.getDate().toString().padStart(2,"0"),_=(a.getMonth()+1).toString().padStart(2,"0"),e=a.getFullYear().toString().slice(-2),c=a.getHours().toString().padStart(2,"0"),u=a.getMinutes().toString().padStart(2,"0"),m=a.getSeconds().toString().padStart(2,"0");return`${l}/${_}/${e} ${c}:${u}:${m}`},formatCurrency(s){return s?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(s):"Rp.0"},handleFileChange1(s){this.file1=s.target.files[0]},handleFileChange2(s){this.file2=s.target.files[0]},async CheckStepper(){this.aprove=!0,this.stepper_menu[2].complete=!0,this.stepper_menu[3].complete=!0,this.stepper_menu[2].link="/sales-order/detail/"+H.data_profit.pl_id},async filterDataforTable(){const s=["createdAt","updatedAt","history","vendor_id","quotation_id","vendor_name","vendor_pic_name","vendor_pic_email","vendor_pic_id","inv_vendor_attachment","so_id","project_id","receive_type","po_id"],a=await h.data_po.map(l=>Object.fromEntries(Object.entries(l).filter(([e])=>!s.includes(e))));for(let l in a)a[l].total=this.formatCurrency(a[l].total);return a}},async created(){this.loading=!0,await this.CheckStepper(),await h.getById(this.$route.params.id),this.dataPO=await h.dataDetail,this.loading=!1,console.log(this.dataPO)}},r=s=>(C("data-v-48659fab"),s=s(),D(),s),J={class:"flex gap-5"},K=r(()=>t("div",{class:"px-20 py-10 w-full flex justify-center items-center"},null,-1)),W={class:"w-full px-10 py-10 bg-white"},X={class:"w-full"},Z={class:"font-bold text-lg"},$=r(()=>t("br",null,null,-1)),tt={class:"w-full flex justify-between"},et={class:"w-full"},ot=r(()=>t("b",null,"PO Number #:",-1)),st=r(()=>t("b",null,"PO Date #:",-1)),at=r(()=>t("b",null,"Project Name #:",-1)),rt={class:"font-bold text-lg"},lt={class:"w-full"},nt=r(()=>t("b",null,"Customer PO Number #:",-1)),it=r(()=>t("b",null,"SO Number #:",-1)),ct=r(()=>t("b",null,"Customer Name #:",-1)),dt={class:"w-full mt-10"},pt={class:"relative overflow-x-auto"},_t=r(()=>t("div",{class:"w-full bg-gray-50 text-gray-700 px-5 py-3 font-semibold"}," List Items ",-1)),ut={class:"w-full text-sm text-left rtl:text-right text-gray-500 mt-2"},mt=r(()=>t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"}," Product "),t("th",{scope:"col",class:"px-6 py-3"}," QTY "),t("th",{scope:"col",class:"px-6 py-3"}," Note "),t("th",{scope:"col",class:"px-6 py-3 text-center"}," Unit Price "),t("th",{scope:"col",class:"px-6 py-3 text-center"}," Total Price ")])],-1)),ht={class:"px-6 py-4 text-xs"},ft={class:"mb-2"},yt={class:""},bt={class:"px-6 py-4"},gt={class:"px-6 py-4"},xt={class:"px-6 py-4 text-right"},Pt={class:"px-6 py-4 text-right"},Ot={class:"bg-white border-b"},vt=r(()=>t("td",{colspan:"4",class:"px-6 py-4 text-right"},[t("b",null," Total")],-1)),St={class:"px-6 py-4 text-right"};function wt(s,a,l,_,e,c){const u=d("Loading"),m=d("ButtonLink"),x=d("MenuCard"),P=d("Default");return e.loading?(p(),f(u,{key:0})):(p(),f(P,{key:1},{default:y(()=>[b(x,{menuLabel:"Detail PO"},{default:y(()=>[t("div",J,[b(m,{type:"secondary",icon_name:"ArrowBigLeft",icon_position:"left",size:"small",to:"/purchase-order/"+e.dataPO.quotation_id},null,8,["to"])])]),_:1}),K,t("div",W,[t("div",X,[t("h1",Z,o(e.dataPO.vendor_name),1),t("h1",null,"CP: "+o(e.dataPO.vendor_pic_name),1),t("h1",null,o(e.dataPO.vendor_pic_email),1)]),$,t("div",tt,[t("div",et,[t("h1",null,[ot,i(" "+o(e.dataPO.po_number),1)]),t("h1",null,[st,i(" "+o(e.dataPO.po_date),1)]),t("h1",null,[at,i(" "+o(e.dataPO.project_name),1)]),t("h1",rt,o(),1)]),t("div",lt,[t("h1",null,[nt,i(" "+o(e.dataPO.cust_po_number),1)]),t("h1",null,[it,i(" "+o(e.dataPO.so_number),1)]),t("h1",null,[ct,i(" "+o(e.dataPO.customer_name),1)])])]),t("div",dt,[t("div",pt,[_t,t("table",ut,[mt,t("tbody",null,[(p(!0),g(k,null,w(e.dataPO.purchaseOrderItems,(n,O)=>(p(),g("tr",{class:"bg-white border-b",key:O},[t("td",ht,[t("h1",ft,o(n.product_number),1),t("h1",yt,o(n.product_description),1)]),t("td",bt,o(n.quantity+" "+n.uom),1),t("td",gt,o(n.note),1),t("td",xt,o(c.formatCurrency(n.unit_price)),1),t("td",Pt,o(c.formatCurrency(n.total_price)),1)]))),128)),t("tr",Ot,[vt,t("td",St,o(c.formatCurrency(e.dataPO.total)),1)])])])])])])]),_:1}))}const Ut=G(U,[["render",wt],["__scopeId","data-v-48659fab"]]);export{Ut as default};
