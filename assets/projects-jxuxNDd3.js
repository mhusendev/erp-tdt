import{u as c,x as p,m as d,y as s,S as o}from"./index-jErkSH92.js";var l={VITE_API_BASE_URL:"https://auth-erp-tdt.cws.co.id/erp-tdt/api",VITE_API_BASE_URL2:"https://backend-dani-erp-tdt.cws.co.id/erp-tdt/api",VITE_API_AUTH_URL:"https://backend-keycloak-erp-tdt.cws.co.id/keycloak/api",VITE_APP_MODE:"dev",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const a=c(),r=l,n={getAll:"/projects?page=",post:"/projects",put:"/projects/",getbyid:"/projects?project_id="},i={headers:{Authorization:`Bearer ${a.access_token}`}},h=p({id:"projects",state:()=>d({data_projects:[],loading:!1,headers:[],message:"",dataEdit:{},dataDetail:{},totalPage:0,currentPage:1,perPage:0}),getters:{setValuedata(e){this.data_projects=e}},actions:{setLoading(e){this.loading=e},async getData(e){e&&(this.currentPage=e);try{this.setLoading(!0);const t=await s.get(r.VITE_API_BASE_URL+n.getAll+this.currentPage,i);this.currentPage=parseInt(t.data.metadata.current_page),this.totalPage=parseInt(t.data.metadata.total_pages),this.perPage=parseInt(t.data.metadata.per_page),this.data_projects=t.data.data,console.log(this.totalPage)}catch(t){a.sessionFail(t.response.data.message),console.log(t)}finally{this.setLoading(!1)}},PostData(e){console.log(JSON.stringify(e)),s.post(r.VITE_API_BASE_URL+n.post,e,i).then(t=>{this.message="Berhasil Input Data",new o({position:"top-end",html:'<p style="color:#ffff">success save data!</p>',showConfirmButton:!1,background:"green",timer:1500})}).catch(t=>{console.error("Error:",t),a.sessionFail(t.response.data.message),this.message="gagal Input Data",new o({position:"top-end",html:'<p style="color:#ffff">failed save data!</p>',background:"red",showConfirmButton:!1,timer:1500})})},PutData(e){s.put(r.VITE_API_BASE_URL+n.put+e.brand_id,e,i).then(t=>{this.message="Berhasil Input Data",new o({text:"Berhasil",icon:"success"})}).catch(t=>{console.error("Error:",t),a.sessionFail(t.response.data.message),this.message="gagal Input Data",new o({text:"Gagal",icon:"warning"})})},async getById(e){try{const t=await s.get(r.VITE_API_BASE_URL+n.getbyid+e,i);this.dataDetail=t.data.data,console.log(t.data.data)}catch(t){a.sessionFail(t.response.data.message),console.log(t)}}}});export{h as u};
