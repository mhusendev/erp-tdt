import{D as F}from"./Default-UzTWWqk9.js";import{_ as V}from"./Icon-rtOuHIS6.js";import{_ as j,c as B,w as u,r as c,o as d,b as _,a as t,j as i,t as o,d as I,l as R,F as z,p as Y,k as A}from"./index-2Xl9qFv7.js";import{u as E}from"./projects-m_BtDv-_.js";import{u as G}from"./products-KWUgHVH5.js";import{u as H}from"./brands-phqYSftc.js";import{u as J}from"./quotations-DO3D_tSp.js";import{u as U}from"./vendors-U6wxk0Ns.js";import{u as K}from"./profits-DD-uQzfp.js";import{u as W}from"./sales-orders-o2BgRW2k.js";import{I as X}from"./InputField-eKlKr605.js";import{M as Z}from"./MenuCard-Cm1nNJYU.js";import{B as $}from"./ButtonLink-xY7BTdTe.js";import{B as tt}from"./Button-_saYDuqz.js";import{L as et}from"./Loading-bud4hAA4.js";import{s as st}from"./default.css_vue_type_style_index_0_src_true_lang-U16oWYK-.js";import{D as ot}from"./DataTable-yeLKldhm.js";import{M as at}from"./Modal-ZMIHFB3R.js";import{T as rt}from"./TextArea-KW4ixcr0.js";import{T as nt}from"./TextCurrency-fK0DUXJx.js";import{S as lt}from"./Stepper-iYhSeoBN.js";import"./Pagination-9Wn2p13Z.js";E();G();H();J();U();const f=K(),L=W(),it={components:{TextCurrency:nt,Default:F,Icon:V,MenuCard:Z,ButtonLink:$,Button:tt,Loading:et,InputField:X,DataTable:ot,Modal:at,Multiselect:st,TextArea:rt,Stepper:lt},data(){return{aprove:!1,stepper_menu:[{label:"QT",complete:!1,link:"/quotation/detail/"},{label:"PL",complete:!1,link:"/profit-and-loss/detail/"},{label:"SO",complete:!1,link:"/sales-order/detail/"},{label:"PO",complete:!1,link:"/purchase-order/"},{label:"RG",complete:!1,link:"/receive-list/"},{label:"DO",complete:!1,link:"/delivery-order/"},{label:"IV",complete:!1,link:"/invoice/so/"}],file1:null,file2:null,dataSO:{},loading:!1}},methods:{formatDateTime(e){const r=new Date(e),g=r.getDate().toString().padStart(2,"0"),S=(r.getMonth()+1).toString().padStart(2,"0"),s=r.getFullYear().toString().slice(-2),n=r.getHours().toString().padStart(2,"0"),m=r.getMinutes().toString().padStart(2,"0"),h=r.getSeconds().toString().padStart(2,"0");return`${g}/${S}/${s} ${n}:${m}:${h}`},formatCurrency(e){return e?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e):"Rp.0"},handleFileChange1(e){this.file1=e.target.files[0]},handleFileChange2(e){this.file2=e.target.files[0]},async checkPL(){var e,r;await f.getData((r=(e=this.dataSO.profit_and_loss)==null?void 0:e.quotation)==null?void 0:r.quotation_id),console.log("ini data",f.data_profit),f.data_profit.status!==1&&(this.aprove=!0)},async setStepper(){let e=await JSON.parse(localStorage.getItem("progress"));this.stepper_menu[0].complete=e[0].status,this.stepper_menu[0].link=this.stepper_menu[0].link+e[0].idQT,this.stepper_menu[1].complete=e[1].status,this.stepper_menu[1].link=this.stepper_menu[1].link+e[1].idQT,this.stepper_menu[2].complete=e[2].status,this.stepper_menu[2].link=this.stepper_menu[2].link+e[2].idPL,this.stepper_menu[3].complete=e[3].status,this.stepper_menu[3].link=this.stepper_menu[3].link+e[3].idQT,this.stepper_menu[4].complete=e[4].status,this.stepper_menu[4].link=this.stepper_menu[4].link+e[4].idQT,this.stepper_menu[5].complete=e[5].status,this.stepper_menu[5].link=this.stepper_menu[5].link+e[5].idSO,this.stepper_menu[6].complete=e[6].status,this.stepper_menu[6].link=this.stepper_menu[6].link+e[6].idSO}},async created(){this.loading=!0,await L.getById(this.$route.params.id),this.dataSO=await L.dataDetail,await this.checkPL(),await this.setStepper(),this.loading=!1,console.log(this.dataSO)}},a=e=>(Y("data-v-4daa466a"),e=e(),A(),e),ct={class:"flex gap-5"},pt={class:"px-20 py-10 w-full flex justify-center items-center"},ut={class:"w-full px-10 py-10 bg-white rounded-xl mt-5"},dt={class:"w-full flex justify-between"},_t={class:"w-full"},mt={class:"font-bold text-lg mb-5"},ht=a(()=>t("b",null,"SO Number #:",-1)),ft=a(()=>t("b",null,"SO Date #:",-1)),gt=a(()=>t("b",null,"Quotation #:",-1)),St=a(()=>t("b",null,"Quotation Date #:",-1)),yt=a(()=>t("b",null,"Customer PO Number #:",-1)),bt=a(()=>t("br",null,null,-1)),xt={class:"flex w-1/2 gap-5 justify-center items-center"},kt=a(()=>t("hr",null,null,-1)),Ot=a(()=>t("br",null,null,-1)),wt={class:"w-full mt-10"},Dt={class:"relative overflow-x-auto"},vt=a(()=>t("div",{class:"w-full bg-gray-50 text-gray-700 px-5 py-3 font-semibold"}," List Items ",-1)),Tt={class:"w-full text-sm text-left rtl:text-right text-gray-500 mt-2"},Ct=a(()=>t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"}," Product "),t("th",{scope:"col",class:"px-6 py-3"}," QTY "),t("th",{scope:"col",class:"px-6 py-3 text-center"}," Unit Price "),t("th",{scope:"col",class:"px-6 py-3 text-center"}," Total Price ")])],-1)),qt={class:"px-6 py-4 text-xs"},Bt={class:"mb-2"},It={class:""},Lt={class:"px-6 py-4"},Pt={class:"px-6 py-4 text-right"},Mt={class:"px-6 py-4 text-right"},Nt={class:"bg-white border-b"},Qt=a(()=>t("td",{colspan:"3",class:"px-6 py-4 text-right"},[t("b",null," Subtotal")],-1)),Ft={class:"px-6 py-4 text-right"},Vt={class:"bg-white border-b"},jt=a(()=>t("td",{colspan:"3",class:"px-6 py-4 text-right"},[t("b",null," PPN")],-1)),Rt={class:"px-6 py-4 text-right"},zt={class:"bg-white border-b"},Yt=a(()=>t("td",{colspan:"3",class:"px-6 py-4 text-right"},[t("b",null," Total")],-1)),At={class:"px-6 py-4 text-right"};function Et(e,r,g,S,s,n){const m=c("Loading"),h=c("ButtonLink"),P=c("MenuCard"),M=c("Stepper"),N=c("Button"),Q=c("Default");return s.loading?(d(),B(m,{key:0})):(d(),B(Q,{key:1},{default:u(()=>{var y,b,x,k,O,w,D,v,T,C,q;return[_(P,{menuLabel:"Sales Order"},{default:u(()=>{var l,p;return[t("div",ct,[_(h,{type:"secondary",size:"small",to:"/purchase-order/"+((p=(l=s.dataSO.profit_and_loss)==null?void 0:l.quotation)==null?void 0:p.quotation_id)},{default:u(()=>[i(" Next")]),_:1},8,["to"])])]}),_:1}),t("div",pt,[_(M,{menu:s.stepper_menu},null,8,["menu"])]),t("div",ut,[t("div",dt,[t("div",_t,[t("h1",mt,o((x=(b=(y=s.dataSO)==null?void 0:y.profit_and_loss)==null?void 0:b.customer)==null?void 0:x.customer_name),1),t("h1",null,[ht,i(" "+o(s.dataSO.so_number),1)]),t("h1",null,[ft,i(" "+o(n.formatDateTime(s.dataSO.so_date)),1)]),t("h1",null,[gt,i(" "+o((w=(O=(k=s.dataSO)==null?void 0:k.profit_and_loss)==null?void 0:O.quotation)==null?void 0:w.quotation_number),1)]),t("h1",null,[St,i(" "+o(n.formatDateTime((T=(v=(D=s.dataSO)==null?void 0:D.profit_and_loss)==null?void 0:v.quotation)==null?void 0:T.quotation_date))+" ",1),t("h1",null,[yt,i(" "+o((q=(C=s.dataSO)==null?void 0:C.profit_and_loss)==null?void 0:q.cust_po_number),1)])]),bt]),t("div",xt,[_(N,{type:"secondary",class:"w-fit h-fit",c:"",onClick:e.submitForm,icon_position:"left",size:"small",icon_name:"Download"},{default:u(()=>[i(" Download SO ")]),_:1},8,["onClick"])])]),kt,Ot,t("div",wt,[t("div",Dt,[vt,t("table",Tt,[Ct,t("tbody",null,[(d(!0),I(z,null,R(s.dataSO.sales_order_items,(l,p)=>(d(),I("tr",{class:"bg-white border-b",key:p},[t("td",qt,[t("h1",Bt,o(l.quotation_item.product.product_number),1),t("h1",It,o(l.quotation_item.product.product_description),1)]),t("td",Lt,o(l.quotation_item.quantity+" "+l.quotation_item.uom),1),t("td",Pt,o(n.formatCurrency(l.quotation_item.unit_price)),1),t("td",Mt,o(n.formatCurrency(l.quotation_item.total_price)),1)]))),128)),t("tr",Nt,[Qt,t("td",Ft,o(n.formatCurrency(s.dataSO.grand_total)),1)]),t("tr",Vt,[jt,t("td",Rt,o(n.formatCurrency(s.dataSO.grand_total*s.dataSO.ppn/100)),1)]),t("tr",zt,[Yt,t("td",At,o(n.formatCurrency(s.dataSO.grand_total*s.dataSO.ppn/100+s.dataSO.grand_total)),1)])])])])])])]}),_:1}))}const _e=j(it,[["render",Et],["__scopeId","data-v-4daa466a"]]);export{_e as default};
