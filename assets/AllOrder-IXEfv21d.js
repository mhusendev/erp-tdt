import{D}from"./Default-qlqlDK0L.js";import{_ as I}from"./Icon-2n2d9mqB.js";import{_ as P,c as b,w as y,r as d,o as f,b as g,a as t,j as T,d as w,l as C,F as L,t as l,p as N,k as B}from"./index-YS2kazAn.js";import{u as M}from"./projects-q85NjqVL.js";import{u as $}from"./quotations-GGih03Dz.js";import{u as F}from"./purchase-orders-IkLeHbVS.js";import{u as Q}from"./profits-8rd6J6Cv.js";import{u as V}from"./sales-orders-WDBGJp9s.js";import{u as j}from"./progress-2lQ-tghw.js";import{I as R}from"./InputField-inxCe4wh.js";import{M as A}from"./MenuCard-Yc_fpzsA.js";import{B as J}from"./ButtonLink-F-oapiyF.js";import{B as z}from"./Button-sqPc1nzK.js";import{L as G}from"./Loading-X19ktdnh.js";import{s as q}from"./default.css_vue_type_style_index_0_src_true_lang-ex5BB7O5.js";import{D as E}from"./DataTable-cG1mwlIC.js";import{M as H}from"./Modal-ZjWr7JwA.js";import{T as Y}from"./TextArea-okWg85Ty.js";import{T as K}from"./TextCurrency-fdi7E9V4.js";import{S as U}from"./Stepper-WkThplD3.js";import"./Pagination-eYLTHK5w.js";const O=j();M();$();const S=F();Q();V();const W={components:{TextCurrency:K,Default:D,Icon:I,MenuCard:A,ButtonLink:J,Button:z,Loading:G,InputField:R,DataTable:E,Modal:H,Multiselect:q,TextArea:Y,Stepper:U},data(){return{label_head:[],aprove:!1,stepper_menu:[{label:"QT",complete:!1,link:"/quotation/detail/"},{label:"PL",complete:!1,link:"/profit-and-loss/detail/"},{label:"SO",complete:!1,link:"/sales-order/detail/"},{label:"PO",complete:!1,link:"/purchase-order/"},{label:"RG",complete:!1,link:"/receive-list/"},{label:"DO",complete:!1,link:"/delivery-order/"},{label:"IV",complete:!1,link:"/invoice/so/"}],file1:null,file2:null,dataOrder:[],loading:!1}},methods:{async updateStepper(){var r;let e=JSON.parse(localStorage.getItem("progress"));await O.getData(e[0].idQT);let s=await O.data_progress;s&&(r=s[1])!=null&&r.status&&(this.isPLexist=!0),await localStorage.setItem("progress",JSON.stringify(s))},async setStepper(){var s,r,c,a,i,n,p,m,u,_,o,h,x,k;let e=await JSON.parse(localStorage.getItem("progress"));e&&(this.stepper_menu[0].complete=(s=e[0])==null?void 0:s.status,this.stepper_menu[0].link=this.stepper_menu[0].link+((r=e[0])==null?void 0:r.idQT),this.stepper_menu[1].complete=(c=e[1])==null?void 0:c.status,this.stepper_menu[1].link=this.stepper_menu[1].link+((a=e[1])==null?void 0:a.idQT),this.stepper_menu[2].complete=(i=e[2])==null?void 0:i.status,this.stepper_menu[2].link=this.stepper_menu[2].link+((n=e[2])==null?void 0:n.idPL),this.stepper_menu[3].complete=(p=e[3])==null?void 0:p.status,this.stepper_menu[3].link=this.stepper_menu[3].link+((m=e[3])==null?void 0:m.idQT),this.stepper_menu[4].complete=(u=e[4])==null?void 0:u.status,this.stepper_menu[4].link=this.stepper_menu[4].link+((_=e[4])==null?void 0:_.idQT),this.stepper_menu[5].complete=(o=e[5])==null?void 0:o.status,this.stepper_menu[5].link=this.stepper_menu[5].link+((h=e[5])==null?void 0:h.idSO),this.stepper_menu[6].complete=(x=e[6])==null?void 0:x.status,this.stepper_menu[6].link=this.stepper_menu[6].link+((k=e[6])==null?void 0:k.idSO))},toDetail(e,s){this.$router.push("/purchase-order/detail/"+S.data_po[e].po_id)},formatDateTime(e){const s=new Date(e),r=s.getDate().toString().padStart(2,"0"),c=(s.getMonth()+1).toString().padStart(2,"0"),a=s.getFullYear().toString().slice(-2),i=s.getHours().toString().padStart(2,"0"),n=s.getMinutes().toString().padStart(2,"0"),p=s.getSeconds().toString().padStart(2,"0");return`${r}/${c}/${a} ${i}:${n}:${p}`},formatCurrency(e){return e?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e):"Rp.0"},handleFileChange1(e){this.file1=e.target.files[0]},handleFileChange2(e){this.file2=e.target.files[0]},async CheckStepper(){this.aprove=!0}},async created(){this.loading=!0,await this.CheckStepper(),await this.updateStepper(),await this.setStepper(),await S.getData(this.$route.params.id),this.dataOrder=await S.data_po,this.loading=!1,console.log(this.dataOrder)}},v=e=>(N("data-v-516a444b"),e=e(),B(),e),X={class:"flex gap-5"},Z={class:"px-20 py-10 w-full flex justify-center items-center"},ee={class:"w-full px-10 py-10 bg-white"},te=v(()=>t("div",{class:"w-full bg-gray-50 text-gray-700 px-5 py-3 font-semibold"}," All Purchase Order Items ",-1)),se={class:"w-full"},oe={class:"relative overflow-x-auto"},ae={class:"w-full text-sm text-left rtl:text-right text-gray-500 mt-2"},re=v(()=>t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"}," PO Number "),t("th",{scope:"col",class:"px-6 py-3"}," Project "),t("th",{scope:"col",class:"px-6 py-3"}," Customer PO Number "),t("th",{scope:"col",class:"px-6 py-3"}," Vendor "),t("th",{scope:"col",class:"px-6 py-3"}," SO Number "),t("th",{scope:"col",class:"px-6 py-3"}," PPN "),t("th",{scope:"col",class:"px-6 py-3"}," Total "),t("th",{scope:"col",class:"px-6 py-3"}," # ")])],-1)),pe={class:"px-6 py-4"},le={class:"px-6 py-4"},ie={class:"px-6 py-4"},ne={class:"px-6 py-4"},ce={class:"px-6 py-4"},de={class:"px-6 py-4"},me={class:"px-6 py-4"},ue={class:"px-6 py-4"};function _e(e,s,r,c,a,i){const n=d("Loading"),p=d("ButtonLink"),m=d("MenuCard"),u=d("Stepper"),_=d("Default");return a.loading?(f(),b(n,{key:0})):(f(),b(_,{key:1},{default:y(()=>[g(m,{menuLabel:"Receive Goods"},{default:y(()=>[t("div",X,[g(p,{type:"secondary",size:"small",to:"/delivery-order/"+a.dataOrder[0].so_id},{default:y(()=>[T(" Next")]),_:1},8,["to"])])]),_:1}),t("div",Z,[g(u,{menu:a.stepper_menu},null,8,["menu"])]),t("div",ee,[te,t("div",se,[t("div",oe,[t("table",ae,[re,t("tbody",null,[(f(!0),w(L,null,C(a.dataOrder,(o,h)=>(f(),w("tr",{class:"bg-white border-b text-xs",key:h},[t("td",pe,l(o.po_number),1),t("td",le,l(o.project_name),1),t("td",ie,l(o.customer_po_number),1),t("td",ne,l(o.vendor_name),1),t("td",ce,l(o.so_number),1),t("td",de,l(o.ppn+" %"),1),t("td",me,l(i.formatCurrency(o.total)),1),t("td",ue,[g(p,{type:"primary",to:"/receive-goods/"+o.po_id,class:"w-fit h-fit",icon_position:"left",size:"small",icon_name:"PackageSearch"},null,8,["to"])])]))),128))])])])])])]),_:1}))}const Fe=P(W,[["render",_e],["__scopeId","data-v-516a444b"]]);export{Fe as default};
