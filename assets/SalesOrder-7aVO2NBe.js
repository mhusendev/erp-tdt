import{D as V}from"./Default-MJk_F5w0.js";import{_ as j}from"./Icon-c8mD8pSa.js";import{_ as Q,c as T,w as p,r as c,o as m,b as f,a as t,j as i,t as s,d as I,l as R,F as z,p as Y,k as A}from"./index-JvwNpHcs.js";import{u as E}from"./projects-TqTwu8TN.js";import{u as G}from"./products-pWsX_MoB.js";import{u as H}from"./brands-qd-t5lYE.js";import{u as U}from"./quotations-oKhYQFld.js";import{u as J}from"./vendors-MdFjkYqf.js";import{u as K}from"./profits-dBJuiZrr.js";import{u as W}from"./sales-orders-k2kpz3Gd.js";import{I as X}from"./InputField-l473M7m0.js";import{M as Z}from"./MenuCard-3B9-no28.js";import{B as $}from"./ButtonLink-UpPZEdK5.js";import{B as tt}from"./Button-OX6oXtUS.js";import{L as et}from"./Loading-U_IsEeXx.js";import{s as ot}from"./default.css_vue_type_style_index_0_src_true_lang-7JVKl_sN.js";import{D as st}from"./DataTable-ybXCkls7.js";import{M as at}from"./Modal-hAaPqs7w.js";import{T as rt}from"./TextArea-ICUhY6d_.js";import{T as nt}from"./TextCurrency-a83V6myp.js";import{S as lt}from"./Stepper-gVg_avFr.js";import"./Pagination-q7km4eTe.js";E();G();H();U();J();const h=K(),L=W(),it={components:{TextCurrency:nt,Default:V,Icon:j,MenuCard:Z,ButtonLink:$,Button:tt,Loading:et,InputField:X,DataTable:st,Modal:at,Multiselect:ot,TextArea:rt,Stepper:lt},data(){return{aprove:!1,stepper_menu:[{label:"QT",complete:!0,link:""},{label:"PL",complete:!0,link:""},{label:"SO",complete:!1,link:""},{label:"PO",complete:!1,link:""},{label:"RG",complete:!1,link:""},{label:"DO",complete:!1,link:""},{label:"INV",complete:!1,link:""}],file1:null,file2:null,dataSO:{},loading:!1}},methods:{formatDateTime(o){const r=new Date(o),d=r.getDate().toString().padStart(2,"0"),u=(r.getMonth()+1).toString().padStart(2,"0"),e=r.getFullYear().toString().slice(-2),n=r.getHours().toString().padStart(2,"0"),g=r.getMinutes().toString().padStart(2,"0"),b=r.getSeconds().toString().padStart(2,"0");return`${d}/${u}/${e} ${n}:${g}:${b}`},formatCurrency(o){return o?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(o):"Rp.0"},handleFileChange1(o){this.file1=o.target.files[0]},handleFileChange2(o){this.file2=o.target.files[0]},async checkPL(){var o,r,d,u;await h.getData((r=(o=this.dataSO.profit_and_loss)==null?void 0:o.quotation)==null?void 0:r.quotation_id),console.log("ini data",h.data_profit),h.data_profit.status!==1&&(this.aprove=!0,this.stepper_menu[2].complete=!0,this.stepper_menu[3].complete=!0,this.stepper_menu[2].link="/sales-order/detail/"+h.data_profit.pl_id,this.stepper_menu[3].link="/purchase-order/"+((u=(d=this.dataSO.profit_and_loss)==null?void 0:d.quotation)==null?void 0:u.quotation_id))}},async created(){this.loading=!0,await L.getById(this.$route.params.id),this.dataSO=await L.dataDetail,await this.checkPL(),this.loading=!1,console.log(this.dataSO)}},a=o=>(Y("data-v-0b6c7701"),o=o(),A(),o),ct={class:"flex gap-5"},dt={class:"px-20 py-10 w-full flex justify-center items-center"},ut={class:"w-full px-10 py-10 bg-white rounded-xl mt-5"},_t={class:"w-full flex justify-between"},pt={class:"w-full"},mt={class:"font-bold text-lg mb-5"},ft=a(()=>t("b",null,"SO Number #:",-1)),ht=a(()=>t("b",null,"SO Date #:",-1)),gt=a(()=>t("b",null,"Quotation #:",-1)),bt=a(()=>t("b",null,"Quotation Date #:",-1)),St=a(()=>t("b",null,"Customer PO Number #:",-1)),xt=a(()=>t("br",null,null,-1)),yt={class:"flex w-1/2 gap-5 justify-center items-center"},Ot=a(()=>t("hr",null,null,-1)),wt=a(()=>t("br",null,null,-1)),kt={class:"w-full mt-10"},Dt={class:"relative overflow-x-auto"},qt=a(()=>t("div",{class:"w-full bg-gray-50 text-gray-700 px-5 py-3 font-semibold"}," List Items ",-1)),Ct={class:"w-full text-sm text-left rtl:text-right text-gray-500 mt-2"},vt=a(()=>t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"}," Product "),t("th",{scope:"col",class:"px-6 py-3"}," QTY "),t("th",{scope:"col",class:"px-6 py-3 text-center"}," Unit Price "),t("th",{scope:"col",class:"px-6 py-3 text-center"}," Total Price ")])],-1)),Bt={class:"px-6 py-4 text-xs"},Tt={class:"mb-2"},It={class:""},Lt={class:"px-6 py-4"},Pt={class:"px-6 py-4 text-right"},Mt={class:"px-6 py-4 text-right"},Nt={class:"bg-white border-b"},Ft=a(()=>t("td",{colspan:"3",class:"px-6 py-4 text-right"},[t("b",null," Subtotal")],-1)),Vt={class:"px-6 py-4 text-right"},jt={class:"bg-white border-b"},Qt=a(()=>t("td",{colspan:"3",class:"px-6 py-4 text-right"},[t("b",null," PPN")],-1)),Rt={class:"px-6 py-4 text-right"},zt={class:"bg-white border-b"},Yt=a(()=>t("td",{colspan:"3",class:"px-6 py-4 text-right"},[t("b",null," Total")],-1)),At={class:"px-6 py-4 text-right"};function Et(o,r,d,u,e,n){const g=c("Loading"),b=c("ButtonLink"),P=c("MenuCard"),M=c("Stepper"),N=c("Button"),F=c("Default");return e.loading?(m(),T(g,{key:0})):(m(),T(F,{key:1},{default:p(()=>{var S,x,y,O,w,k,D,q,C,v,B;return[f(P,{menuLabel:"Sales Order"},{default:p(()=>{var l,_;return[t("div",ct,[f(b,{type:"secondary",size:"small",to:"/purchase-order/"+((_=(l=e.dataSO.profit_and_loss)==null?void 0:l.quotation)==null?void 0:_.quotation_id)},{default:p(()=>[i(" Next")]),_:1},8,["to"])])]}),_:1}),t("div",dt,[f(M,{menu:e.stepper_menu},null,8,["menu"])]),t("div",ut,[t("div",_t,[t("div",pt,[t("h1",mt,s((y=(x=(S=e.dataSO)==null?void 0:S.profit_and_loss)==null?void 0:x.customer)==null?void 0:y.customer_name),1),t("h1",null,[ft,i(" "+s(e.dataSO.so_number),1)]),t("h1",null,[ht,i(" "+s(n.formatDateTime(e.dataSO.so_date)),1)]),t("h1",null,[gt,i(" "+s((k=(w=(O=e.dataSO)==null?void 0:O.profit_and_loss)==null?void 0:w.quotation)==null?void 0:k.quotation_number),1)]),t("h1",null,[bt,i(" "+s(n.formatDateTime((C=(q=(D=e.dataSO)==null?void 0:D.profit_and_loss)==null?void 0:q.quotation)==null?void 0:C.quotation_date))+" ",1),t("h1",null,[St,i(" "+s((B=(v=e.dataSO)==null?void 0:v.profit_and_loss)==null?void 0:B.cust_po_number),1)])]),xt]),t("div",yt,[f(N,{type:"secondary",class:"w-fit h-fit",c:"",onClick:o.submitForm,icon_position:"left",size:"small",icon_name:"Download"},{default:p(()=>[i(" Download SO ")]),_:1},8,["onClick"])])]),Ot,wt,t("div",kt,[t("div",Dt,[qt,t("table",Ct,[vt,t("tbody",null,[(m(!0),I(z,null,R(e.dataSO.sales_order_items,(l,_)=>(m(),I("tr",{class:"bg-white border-b",key:_},[t("td",Bt,[t("h1",Tt,s(l.quotation_item.product.product_number),1),t("h1",It,s(l.quotation_item.product.product_description),1)]),t("td",Lt,s(l.quotation_item.quantity+" "+l.quotation_item.uom),1),t("td",Pt,s(n.formatCurrency(l.quotation_item.unit_price)),1),t("td",Mt,s(n.formatCurrency(l.quotation_item.total_price)),1)]))),128)),t("tr",Nt,[Ft,t("td",Vt,s(n.formatCurrency(e.dataSO.grand_total)),1)]),t("tr",jt,[Qt,t("td",Rt,s(n.formatCurrency(e.dataSO.grand_total*e.dataSO.ppn/100)),1)]),t("tr",zt,[Yt,t("td",At,s(n.formatCurrency(e.dataSO.grand_total*e.dataSO.ppn/100+e.dataSO.grand_total)),1)])])])])])])]}),_:1}))}const pe=Q(it,[["render",Et],["__scopeId","data-v-0b6c7701"]]);export{pe as default};
