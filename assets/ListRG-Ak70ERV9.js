import{D as w}from"./Default-LfTR1VjV.js";import{_ as I}from"./Icon-aDk_KqCg.js";import{r as c,o as r,b as y,w as u,a as f,d as t,j as T,c as d,l as x,F as v,t as i,p as L,k as R}from"./index-3VIsnPTN.js";import{u as B}from"./projects-bfIeDXOj.js";import{u as O}from"./quotations-DKV3vdtf.js";import{u as C}from"./purchase-orders-Dw_HkDBj.js";import{u as M}from"./profits-CfWhkcUx.js";import{u as P}from"./sales-orders-tqon6XcB.js";import{u as G}from"./receive-goods-iVpOPdm8.js";import{I as V}from"./InputField-7BnCext7.js";import{M as $}from"./MenuCard-iMsFtknn.js";import{B as F}from"./ButtonLink-9IpDKwVO.js";import{B as N}from"./Button-fTGUJeva.js";import{L as q}from"./Loading-sJ64mZn0.js";import{s as j}from"./default.css_vue_type_style_index_0_src_true_lang-7xlbMjmG.js";import{D as A}from"./DataTable-aefNwkh5.js";import{M as Q}from"./Modal-eH2qysXC.js";import{T as z}from"./TextArea-Y7UasRCk.js";import{T as E}from"./TextCurrency-KJDE1gIN.js";import{S as H}from"./Stepper-DyQ-U5va.js";import{_ as J}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./Pagination-pdYa9xhx.js";B();O();const Y=C();M();P();const h=G(),K={components:{TextCurrency:E,Default:w,Icon:I,MenuCard:$,ButtonLink:F,Button:N,Loading:q,InputField:V,DataTable:A,Modal:Q,Multiselect:j,TextArea:z,Stepper:H},data(){return{body:[],label_head:[],aprove:!1,po_id:"",stepper_menu:[{label:"QT",complete:!0,link:""},{label:"PL",complete:!0,link:""},{label:"SO",complete:!1,link:""},{label:"PO",complete:!1,link:""},{label:"RG",complete:!1,link:""},{label:"DO",complete:!1,link:""},{label:"INV",complete:!1,link:""}],file1:null,file2:null,dataPO:{},dataRG:[],qt_id:"",loading:!1}},methods:{formatDateTime(e){const o=new Date(e),s=o.getDate().toString().padStart(2,"0"),p=(o.getMonth()+1).toString().padStart(2,"0"),a=o.getFullYear().toString().slice(-2),m=o.getHours().toString().padStart(2,"0"),_=o.getMinutes().toString().padStart(2,"0"),l=o.getSeconds().toString().padStart(2,"0");return`${s}/${p}/${a} ${m}:${_}:${l}`},formatCurrency(e){return e?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e):"Rp.0"},handleFileChange1(e){this.file1=e.target.files[0]},handleFileChange2(e){this.file2=e.target.files[0]},async filterDataforTable(){const e=["createdAt","updatedAt","history","vendor_id","quotation_id","vendor_name","vendor_pic_name","vendor_pic_email","vendor_pic_id","inv_vendor_attachment","so_id","project_id","receive_type","po_id"],o=await Y.data_po.map(s=>Object.fromEntries(Object.entries(s).filter(([a])=>!e.includes(a))));for(let s in o)o[s].total=this.formatCurrency(o[s].total);return o}},async created(){this.loading=!0,this.po_id=await this.$route.params.id,h.$reset(),await h.getData(this.po_id);let e=await JSON.parse(localStorage.getItem("progress"));this.qt_id=e[0].idQT,this.dataRG.push(...h.data_rg),this.loading=!1,console.log(this.dataRG)}},U=e=>(L("data-v-d0422e80"),e=e(),R(),e),W={class:"flex gap-5"},X={class:"w-full px-10 py-10 bg-white"},Z={class:"w-full mt-10"},tt={class:"relative overflow-x-auto"},et={class:"w-full text-sm text-left rtl:text-right text-gray-500 mt-2"},ot=U(()=>t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"}," Receive Date "),t("th",{scope:"col",class:"px-6 py-3"}," Vendor "),t("th",{scope:"col",class:"px-6 py-3"}," PO Number "),t("th",{scope:"col",class:"px-6 py-3"}," Vendor DO "),t("th",{scope:"col",class:"px-6 py-3"}," Total In ")])],-1)),at={class:"px-6 py-4 text-xs"},st={class:"mb-2"},rt={class:"px-6 py-4"},nt={class:"px-6 py-4"},it={class:"px-6 py-4"},lt={class:"px-6 py-4"};function ct(e,o,s,p,a,m){const _=c("Loading"),l=c("ButtonLink"),b=c("MenuCard"),S=c("Default");return a.loading?(r(),y(_,{key:0})):(r(),y(S,{key:1},{default:u(()=>[f(b,{menuLabel:"List Receive Goods"},{default:u(()=>[t("div",W,[f(l,{type:"secondary",icon_name:"ArrowBigLeft",icon_position:"left",size:"small",to:"/receive-list/"+a.qt_id},null,8,["to"]),f(l,{type:"secondary",size:"small",to:"/receive-form/"+a.po_id,icon_name:"PackagePlus"},{default:u(()=>[T(" Receive")]),_:1},8,["to"])])]),_:1}),t("div",X,[t("div",Z,[t("div",tt,[t("table",et,[ot,t("tbody",null,[(r(!0),d(v,null,x(a.dataRG,(n,k)=>(r(),d("tr",{class:"bg-white border-b",key:k},[t("td",at,[t("h1",st,i(m.formatDateTime(n.receive_date)),1)]),t("td",rt,i(n.vendor_name),1),t("td",nt,i(n.po_number),1),t("td",it,i(n.vendor_do_number),1),t("td",lt,[(r(!0),d(v,null,x(n.total_quantity_in,(g,D)=>(r(),d("h1",{key:D},i(g.quantity+"   "+g.uom+"   "),1))),128))])]))),128))])])])])])]),_:1}))}const Ct=J(K,[["render",ct],["__scopeId","data-v-d0422e80"]]);export{Ct as default};
