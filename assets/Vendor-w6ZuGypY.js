import{D as C}from"./Default-8989BuUh.js";import{_ as M}from"./Icon-iMiFcnKi.js";import{_ as B,f as u,c as m,w as _,r as l,o as i,b as c,a as e,t as o,j as x,d as p,l as E,F as L}from"./index-UcG7K48i.js";import{D as O}from"./DataTable-AMI-jNCU.js";import{B as T}from"./ButtonLink-RoDL6GYn.js";import{_ as j}from"./Card-WqI04T3k.js";import{u as z}from"./vendors-qSasEY1P.js";import{L as A}from"./Loading-I60fnMB4.js";import{M as I}from"./Modal-qZ73HCU_.js";import{P as N}from"./Pagination-ht6DyZgL.js";import"./Button-FXweG6b0.js";const s=z(),S={name:"vendor",components:{Icon:M,Default:C,ButtonLink:T,DataTable:O,Loading:A,Pagination:N,Modal:I,Card:j},data(){return{label_head:u(s.headers),body:u(s.data_vendors),loading:!1,currentPage:u(s.currentPage)|0,totalPages:u(s.totalPage),dataView:{},isModalViewOpen:!1}},methods:{handleEdit(a){let r=s.data_vendors.find(n=>n.vendor_code===a.vendor_code);s.$patch(n=>{n.dataEdit=r}),this.$router.push("/master/vendors/edit")},handleView(a,r){this.dataView=s.data_vendors.find(n=>n.vendor_id===r.vendor_id),console.log(this.dataView),this.isModalViewOpen=!0},closeModalView(){this.isModalViewOpen=!1},handlePageChange(a){console.log("Berpindah ke halaman",a),this.currentPage=a,s.getData(this.currentPage),this.getData()},async getData(){this.loading=!0,await s.getData(this.currentPage),this.currentPage=await s.currentPage,this.totalPages=await s.totalPage,console.log(s.totalPage),this.body=await this.filterDataforTable(),await this.body.forEach(a=>{let r=Object.keys(a);this.label_head=r}),this.loading=!1},async filterDataforTable(){const a=["history","vendor_pic","is_deleted","createdAt","updatedAt","npwp","vendor_warehouse_address","vendor_billing_address","fax"];return await s.data_vendors.map(n=>Object.fromEntries(Object.entries(n).filter(([t])=>!a.includes(t))))}},mounted:function(){console.log(s.data_vendors),this.loading=!0,s.getData(this.currentPage),this.getData()},computed(){},created:function(){}},F={class:"w-[900px] h-[700px] pb-10 overflow-y-scroll"},H={class:"grid grid-cols-2"},R={class:"font-bold text-2xl flex"},W={class:"flex justify-end"},X=e("b",null,"created at",-1),q=e("hr",null,null,-1),G=e("br",null,null,-1),J={class:"relative overflow-x-auto"},K={class:"w-full text-sm text-left rtl:text-right text-gray-500"},Q=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-100"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," npwp "),e("th",{scope:"col",class:"px-6 py-3"}," building "),e("th",{scope:"col",class:"px-6 py-3"}," city "),e("th",{scope:"col",class:"px-6 py-3"}," fax "),e("th",{scope:"col",class:"px-6 py-3"}," telephone ")])],-1),U={class:"bg-white border-b"},Y={class:"px-6 py-4 font-normal"},Z={class:"px-6 py-4"},$={class:"px-6 py-4"},ee={class:"px-6 py-4"},te={class:"px-6 py-4"},se={class:"w-full text-sm text-left rtl:text-right text-gray-500"},oe=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-100"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-center"}," Billing address "),e("th",{scope:"col",class:"px-6 py-3 text-center"}," Warehouse address ")])],-1),ae={class:"bg-white border-b"},ne={class:"px-6 py-4 font-normal text-center"},le={class:"px-6 py-4 text-center"},re=e("br",null,null,-1),de={class:"px-10"},ie=e("p",{class:"border-b mb-10 text-xl font-semibold"},"Contact",-1),ce={class:"relative overflow-x-auto sm:rounded-lg"},_e={class:"w-full text-sm text-left border rtl:text-right text-gray-500"},pe=e("thead",{class:"text-xs text-gray-700 uppercase"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 bg-gray-50"}," name "),e("th",{scope:"col",class:"px-6 py-3"}," position "),e("th",{scope:"col",class:"px-6 py-3 bg-gray-50"}," phone "),e("th",{scope:"col",class:"px-6 py-3"}," email "),e("th",{scope:"col",class:"px-6 py-3"}," whatsapp ")])],-1),he={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap bg-gray-50"},ue={class:"px-6 py-4"},ge={class:"px-6 py-4 bg-gray-50 d"},me={class:"px-6 py-4"},xe={class:"px-6 py-4"},fe={key:0,class:"bg-green-500 text-white px-2 py-2 rounded w-full flex justify-center"},ye=["href"],be={key:1,class:"bg-gray-200 text-slate-800 px-2 py-2 rounded w-full flex justify-center"},we={class:"col-span-12 mt-3 px-10 py-5"},ve=e("h1",{class:"text-lg border-b border-slate-900 font-semibold w-fit pr-6 mb-10 capitalize"},"vendors",-1),Ve=e("div",{class:"intro-y block sm:flex items-center h-10"},null,-1),Pe={key:1};function De(a,r,n,f,t,h){const y=l("Card"),g=l("Icon"),b=l("Modal"),w=l("Loading"),v=l("ButtonLink"),V=l("DataTable"),P=l("Pagination"),D=l("Default");return i(),m(D,null,{default:_(()=>[c(b,{show:t.isModalViewOpen,modalLabel:"Detail vendor",modalType:"primary",onCloseModal:h.closeModalView},{default:_(()=>[e("div",F,[c(y,null,{default:_(()=>[e("div",H,[e("h1",R,o(t.dataView.vendor_name),1),e("div",W,[e("div",null,[e("p",null,[X,x(": "+o(t.dataView.createdAt),1)])])])]),q,G,e("div",J,[e("table",K,[Q,e("tbody",null,[e("tr",U,[e("th",Y,o(t.dataView.npwp),1),e("td",Z,o(t.dataView.vendor_building),1),e("td",$,o(t.dataView.city),1),e("td",ee,o(t.dataView.fax),1),e("td",te,o(t.dataView.telephone),1)])])]),e("table",se,[oe,e("tbody",null,[e("tr",ae,[e("th",ne,o(t.dataView.vendor_billing_address),1),e("td",le,o(t.dataView.vendor_warehouse_address),1)])])])])]),_:1}),re,e("div",de,[ie,e("div",ce,[e("table",_e,[pe,e("tbody",null,[(i(!0),p(L,null,E(t.dataView.vendor_pic,(d,k)=>(i(),p("tr",{class:"",key:k},[e("th",he,o(d.title+"."+d.contact_name),1),e("td",ue,o(d.position),1),e("td",ge,o(d.mobile_phone),1),e("td",me,o(d.email),1),e("td",xe,[d.is_whatsapp?(i(),p("div",fe,[e("a",{href:"https://wa.me/"+d.mobile_phone,target:"_blank"},[c(g,{name:"SendHorizontal",size:20})],8,ye)])):(i(),p("div",be,[e("span",null,[c(g,{name:"XOctagon",size:20})])]))])]))),128))])])])])])]),_:1},8,["show","onCloseModal"]),e("div",we,[ve,Ve,t.loading?(i(),m(w,{key:0})):(i(),p("div",Pe,[c(V,{theads:t.label_head,items:t.body,btnDelete:!0,btnView:!0,btnEdit:!0,onView:h.handleView,onEdit:h.handleEdit},{default:_(()=>[c(v,{type:"primary",size:"small",icon_name:"Plus",to:"/master/vendors/add"},{default:_(()=>[x("New vendor ")]),_:1})]),_:1},8,["theads","items","onView","onEdit"]),c(P,{"current-page":t.currentPage,"total-pages":t.totalPages,"visible-page-count":5,onPageChange:h.handlePageChange},null,8,["current-page","total-pages","onPageChange"])]))])]),_:1})}const Ie=B(S,[["render",De]]);export{Ie as default};
